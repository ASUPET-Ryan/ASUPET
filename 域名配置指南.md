# ASUPET 域名配置指南

## 🌐 域名配置方案

### 推荐方案：主域名 + WWW重定向

#### 1. 创建主站点
- **域名**: `asupet.com`
- **目录**: `/www/wwwroot/asupet.com/`
- **文件**: 上传所有静态文件到此目录

#### 2. 配置WWW重定向
在宝塔面板中：
1. 点击 "网站" → "添加站点"
2. 域名填写：`www.asupet.com`
3. 选择 "重定向" 类型
4. 重定向到：`https://asupet.com`
5. 选择 "301永久重定向"

## 📝 Nginx配置文件

### 主站点配置 (asupet.com)
```nginx
server {
    listen 80;
    listen 443 ssl http2;
    server_name asupet.com;
    
    # SSL证书配置
    ssl_certificate /www/server/panel/vhost/cert/asupet.com/fullchain.pem;
    ssl_certificate_key /www/server/panel/vhost/cert/asupet.com/privkey.pem;
    
    root /www/wwwroot/asupet.com;
    index index.html;
    
    # 前端路由支持
    location / {
        try_files $uri $uri/ /index.html;
    }
    
    # 静态资源缓存
    location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
    
    # Gzip压缩
    gzip on;
    gzip_vary on;
    gzip_min_length 1024;
    gzip_types text/plain text/css application/javascript application/json;
    
    # 强制HTTPS
    if ($scheme != "https") {
        return 301 https://$host$request_uri;
    }
}
```

### WWW重定向配置 (www.asupet.com)
```nginx
server {
    listen 80;
    listen 443 ssl http2;
    server_name www.asupet.com;
    
    # SSL证书配置
    ssl_certificate /www/server/panel/vhost/cert/asupet.com/fullchain.pem;
    ssl_certificate_key /www/server/panel/vhost/cert/asupet.com/privkey.pem;
    
    # 301重定向到主域名
    return 301 https://asupet.com$request_uri;
}
```

## 🔧 宝塔面板操作步骤

### 步骤1：创建主站点
1. 登录宝塔面板
2. 点击 "网站" → "添加站点"
3. 填写信息：
   - **域名**: `asupet.com`
   - **根目录**: `/www/wwwroot/asupet.com`
   - **PHP版本**: 纯静态
4. 点击提交

### 步骤2：上传文件
1. 进入 `/www/wwwroot/asupet.com/` 目录
2. 删除默认的 `index.html`
3. 上传 `dist` 文件夹中的所有文件

### 步骤3：配置SSL证书
1. 点击站点设置 → SSL
2. 申请 Let's Encrypt 证书
3. 域名填写：`asupet.com,www.asupet.com`
4. 开启 "强制HTTPS"

### 步骤4：配置WWW重定向
1. 点击 "网站" → "添加站点"
2. 填写信息：
   - **域名**: `www.asupet.com`
   - **类型**: 重定向
   - **重定向到**: `https://asupet.com`
   - **状态码**: 301
3. 点击提交

### 步骤5：配置Nginx
1. 点击主站点设置 → 配置文件
2. 添加前端路由支持配置
3. 保存并重载Nginx

## 🌍 DNS解析配置

在您的域名服务商处配置：

### A记录
- **主机记录**: `@`
- **记录类型**: A
- **记录值**: 您的服务器IP

### CNAME记录
- **主机记录**: `www`
- **记录类型**: CNAME
- **记录值**: `asupet.com`

## ✅ 验证配置

配置完成后，测试以下URL：
- `http://asupet.com` → 自动跳转到 `https://asupet.com`
- `http://www.asupet.com` → 自动跳转到 `https://asupet.com`
- `https://www.asupet.com` → 自动跳转到 `https://asupet.com`
- `https://asupet.com` → 正常显示网站

## 📊 SEO优势

这种配置的优势：
- ✅ 避免重复内容问题
- ✅ 集中域名权重
- ✅ 用户体验友好
- ✅ 搜索引擎友好

## ⚠️ 注意事项

1. **SSL证书**: 确保包含两个域名
2. **DNS解析**: 两个域名都要正确解析
3. **重定向**: 使用301永久重定向
4. **测试**: 配置后全面测试各种访问方式

## 🆘 常见问题

**Q: 为什么要重定向WWW到主域名？**
A: 避免搜索引擎认为是重复内容，集中SEO权重

**Q: 可以反过来重定向吗？**
A: 可以，但建议统一使用不带WWW的域名

**Q: SSL证书怎么配置？**
A: 申请时同时包含两个域名：asupet.com,www.asupet.com
